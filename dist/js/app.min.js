"use strict";function success(e){console.log(e);var t=e.coords;takeWeather(t.latitude,t.longitude)}function error(){window.fetch("https://api.ipify.org?format=json").then(function(e){return e.json()}).then(function(e){return window.fetch("http://freegeoip.net/json/"+e.ip).then(function(e){return e.json()}).then(function(e){console.log(e),takeWeather(e.latitude,e.longitude)})})}function takeWeather(e,t){window.fetch("http://api.openweathermap.org/data/2.5/weather?lat="+e+"&lon="+t+"&lang=fr&units=metric&appid="+apiKey).then(function(e){return e.json()}).then(function(e){affichage(e)})}function affichage(e){load.style.display="none",console.log(e);var t=e.weather[0],n=t.description,o=t.icon,i=e.main.temp;console.log(n);var a="\n    <div>\n      <h2>"+capitalize(e.name)+'</h2>\n      <img src="http://openweathermap.org/img/w/'+o+'.png"/>\n      <p class="description">'+formatText(n)+'</p>\n      <p class="temp">'+formatDeg(i)+"</p>\n    </div>\n  ";section.innerHTML=a}function capitalize(e){return e.toUpperCase()}function formatDeg(e){return Math.floor(e)+" CÂ°"}function formatText(e){return e.split(" ").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join(" ")}var section=document.querySelector("section"),load=document.querySelector(".load"),apiKey="a437f304e51a6aaec41a5fcf68641b6c";navigator.geolocation.getCurrentPosition(success,error);